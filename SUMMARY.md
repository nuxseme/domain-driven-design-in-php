# Summary

* [介绍](README.md)
* [第一章 开始使用DDD](chapter1/README.md)
  * [1.1 为什么要用DDD](chapter1/why-ddd.md)
  * [1.2 使用ddd有什么帮助](chapter1/how-ddd-help.md)
    * [1.2.1 通用语言](chapter1/ubiquitous-language.md)
  * [1.3 我应该开始考虑领域驱动设计作为一种选择吗?](chapter1/when-to-use-ddd.md)
  * [1.4 使用DDD主要的挑战](chapter1/challenges.md)
  * [1.5 使用领域驱动设计的业务价值](chapter1/business-value.md)
  * [1.6 小结](chapter1/warping-up.md)
* [第二章 架构风格](chapter2/README.md)
  * [2.1 历史](chapter2/history.md)
  * [2.2 分层架构](chapter2/layered-architecture.md)
    * [2.2.1 模型-视图-控制器](chapter2/mvc.md)
    * [2.2.2 分层架构示例](chapter2/222-fen-ceng-jia-gou-shi-li.md)
      * [2.2.2.1 模型](chapter2/model.md)
      * [2.2.2.2 视图](chapter2/view.md)
      * [2.2.2.3 控制器](chapter2/controller.md)
  * [2.3 依赖倒置 六边形架构](chapter2/inverting-dependencies-hexagonal-architecture.md)
    * [2.3.1 依赖倒置原则](chapter2/dip.md)
    * [2.3.2 六边形架构的应用](chapter2/hexagonal-architecture.md)
  * [2.4 命令查询职责分离](chapter2/command-query-responsibility-segregation.md)
    * [2.4.1  写模型](chapter2/the-write-model.md)
    * [2.4.1  读模型](chapter2/the-read-model.md)
    * [2.4.3 读写模型同步](chapter2/synchronizing-the-write-model-with-the-read-model.md)
  * [2.5 事件溯源](chapter2/event-sourcing.md)
  * [2.6 小结](chapter2/wrapping-up.md)
* [第三章 值对象](chapter3/value-objects.md)
  * [3.1 定义](chapter3/definition.md)
  * [3.2 值对象vs实体](chapter3/vaules-object-vs-entity.md)
  * [3.3 货币和钱 示例](chapter3/currency-and-money-example.md)
  * [3.4 特性](chapter3/characteristics.md)
    * [3.4.1 度量 量化 描述](chapter3/measures-quantifies-describes.md)
      * [3.4.2 不变性](chapter3/immutability.md)
    * [3.4.3 整体概念](chapter3/conceptual-whole.md)
    * [3.4.4 数值相等](chapter3/value-equality.md)
    * [3.4.5 可替换性](chapter3/replaceability.md)
    * [3.4.6 无副作用的行为](chapter3/side-effect-free-behaviour.md)
  * [3.5 基础类型](chapter3/basic-types.md)
  * [3.6 测试](chapter3/testing.md)
  * [3.7 持久化值对象](chapter3/persisting-value-objects.md)
    * [3.7.1 持久化单个值对象](chapter3/persisting-single-value-objects.md)
      * [3.7.1.1 使用特殊的ORM持久化复合值对象](chapter3/embedded-value-with-an-ad-hoc-ORM.md)
      * [3.7.1.2 使用Doctrine&gt;=2.5持久化复合值对象](chapter3/embedded-value-with-doctrine-2.5.md)
      * [3.7.1.3 使用Doctrine&lt;=2.4持久化复合值对象](chapter3/embedded-value-with-doctrine-2.4.md)
      * [3.7.1.4 序列化](chapter3/serialize.md)
        * [3.7.1.4.1 使用jms提升序列化](chapter3/improved-serialization-with-jms-serializer.md)
      * [3.7.1.5 使用doctrine序列化](chapter3/serialized-lob-with-doctrine.md)
        * [3.7.1.5.1 doctrine对象映射类型](chapter3/doctrine-object-mapping-type.md)
        * [3.7.1.5.2 doctrine自定义类型](chapter3/doctrine-custom-types.md)
    * [3.7.2 持久化值对象集合](chapter3/persisting-a-collection-of-value-objects.md)
      * [3.7.2.1 集合整体序列化](chapter3/collection-serialized-into-a-single-column.md)
      * [3.7.2.2 集合退化成join表](chapter3/collection-backed-by-a-join-table.md)
        * [3.7.2.2.1 集合退化成join表doctrine](chapter3/collection-backed-by-a-join-table-with-doctrine.md)
        * [3.7.2.2.2 集合退化成join表orm](chapter3/collection-backed-by-a-join-table-with-ad-hoc-orm.md)
      * [3.7.2.3 集合退化成join表database-entity](chapter3/collection-backed-by-a-database-entity.md)
    * [3.7.3 nosql](chapter3/nosql.md)
      * [3.7.3.1 postgresql&jsonb](chapter3/postgresql-and-jsonb.md)
  * [3.8 安全](chapter3/security.md)
  * [3.9 小结](chapter3/wrapping-up.md)
* [第四章 实体](chapter4/README.md)
  * [4.1 介绍](chapter4/introduction.md)
  * [4.2 对象vs原始类型](chapter4/objects-vs-primitive-types.md)
  * [4.3 操作的标识](chapter4/identity-operation.md)
    * [4.3.1 持久化 生成唯一标识](chapter4/persistence-mechanism-generates-identity.md)
      * [4.3.1.1 替代标识](chapter4/surrogate-identity.md)
      * [4.3.1.2 富模型 活动记录表vs数据映射](chapter4/active-record-vs-data-mapper-for-rich-domain-models.md)
    * [4.3.2 标识提供客户端](chapter4/client-provides-identity.md)
    * [4.3.3 应用产生标识](chapter4/application-generates-identity.md)
    * [4.3.4 其他边界上下文生成标识](chapter4/other-bounded-context-generates-identity.md)
  * [4.4 持久化实体](chapter4/persisting-entities.md)
    * [4.4.1 安装doctrine](chapter4/setting-up-doctrine.md)
    * [4.4.2 映射实体](chapter4/mapping-entities.md)
      * [4.4.2.1 用注释映射实体](chapter4/mapping-entities-using-annotated-code.md)
      * [4.4.2.2 xml映射实体](chapter4/mapping-entities-using-xml.md)
  * [4.5 测试实体.md](chapter4/testing-entities.md)
  * [4.6 校验](chapter4/validation.md)
    * [4.6.1 属性校验](chapter4/attribute-validation.md)
    * [4.6.2 实体对象校验](chapter4/entire-object-validation.md)
      * [4.6.2.1 解耦校验信息](chapter4/decoupling-validation-messages.md)
    * [4.6.3 校验对象组](chapter4/validating-object-compositions.md)
  * [4.7 小结](chapter4/wrapping-up.md)
* [第五章 服务](chapter5/README.md)
  * [5.1 介绍](chapter5/introduction.md)
  * [5.2 应用服务](chapter5/application-services.md)
    * [5.2.1 事务](chapter5/transactions.md)
    * [5.2.2 测试应用服务](chapter5/testing-application-services.md)
  * [5.3 领域服务](chapter5/domain-services.md)
  * [5.4 多样实现领域服务](chapter5/domain-services-with-multiple-implementations.md)
    * [5.4.1 关于代码复用的一个问题](chapter5/an-issue-on-code-reuse.md)
  * [5.5 测试领域服务](chapter5/testing-domain-services.md)
  * [5.6 贫血领域模型vs富领域模型](chapter5/anemic-domain-models-vs-rich-domain-models.md)
    * [5.6.1 贫血领域模型破坏封装](chapter5/anemic-domain-model-breaks-encapsulation.md)
    * [5.6.2 贫血领域模型带来代码复用的错误场景](chapter5/anemic-domain-model-brings-a-false-sense-of-code-reuse.md)
    * [5.6.3 如何避免贫血领域模型](chapter5/how-to-avoid-anemic-domain-model.md)
  * [5.7 小结](chapter5/wrapping-up.md)
* [第六章 领域事件](chapter6/README.md)
  * [6.1 介绍](chapter6/introduction.md)
  * [6.2 定义](chapter6/definition.md)
    * [6.2.1 一个简短的故事](chapter6/short-story.md)
    * [6.2.2 隐喻](chapter6/metaphor.md)
    * [6.2.3 实际生活中的例子](chapter6/reallife-example.md)
  * [6.3 特征](chapter6/characteristics.md)
    * [6.3.1 命令约定](chapter6/naming-conventions.md)
    * [6.3.2 领域事件和统一语言](chapter6/domain-events-and-ubiquitous-language.md)
    * [6.3.3 不可变性](chapter6/immutability.md)
  * [6.4 事件建模](chapter6/modeling-events.md)
  * [6.5 持久化事件](chapter6/persisting-domain-events.md)
    * [6.5.1 事件存储](chapter6/event-store.md)
  * [6.6 从领域模型发布事件](chapter6/publishing-events-from-the-domain-model.md)
    * [6.6.1 从实体发布事件](chapter6/publishing-a-domain-event-from-an-entity.md)
    * [6.6.2 从领域和应用服务发布事件](chapter6/publishing-your-domain-events-from-domain-or-application-services.md)
    * [6.6.3 事件发布机制](chapter6/how-the-domaineventpublisher-works.md)
    * [6.6.4 设置事件监听](chapter6/setting-up-domaineventlisteners.md)
    * [6.6.5 单元测试](chapter6/unit-testing.md)
  * [6.7 传播消息到远端界限上下文](chapter6/spreading-the-news-to-remote-bounded-contexts.md)
    * [6.7.1 通知](chapter6/messaging.md)
    * [6.7.2 rest](chapter6/rest.md)
  * [6.8 小结](chapter6/wrapping-up.md)
* [第七章 模块](chapter7/README.md)
  * [7.1 代码结构模块化](chapter7/structuring-code-in-modules.md)
    * [7.1.1 基础设施分层模块化](chapter7/modules-in-the-infrastructure-layer.md)
      * [7.1.1.1 融合差异技术](chapter7/mixing-different-technologies.md)
  * [7.2 php使用模块](chapter7/leverage-modules-in-php.md)
    * [7.2.1 pear风格的namespace](chapter7/pear-style-namespaces.md)
    * [7.2.2 psr0 prs4 命名约定](chapter7/psr0-and-psr4-namespacing-conventions.md)
  * [7.3 小结](chapter7/wrapping-up.md)
* [第八章 聚合](chapter8/README.md)
  * [8.1 介绍](chapter8/introduction.md)
    * [8.1.1 what martin fowler says](chapter8/what-martin-fowler-says.md)
    * [8.1.2 wiki定义](chapter8/what-wikipedia-says.md)
  * [8.2 历史](chapter8/history.md)
  * [8.3 聚合和集群](chapter8/aggregates-and-clusters.md)
  * [8.4 解析聚合](chapter8/anatomy-of-an-aggregate.md)
    * [8.4.1 基于业务设计聚合](chapter8/design-aggregates-based-in-business-true-invariants.md)
    * [8.4.2 小聚合vs大聚合](chapter8/small-aggregates-vs-big-aggregates.md)
    * [8.4.3 发布的最终一致性](chapter8/pushing-for-eventual-consistency.md)
    * [8.4.4 每个事务修改一个聚合](chapter8/modify-one-aggregate-per-transaction.md)
    * [8.4.5 异常情况](chapter8/exception-case.md)
  * [8.5 应用服务案列](chapter8/sample-application-service-user-and-wishes.md)
    * [8.5.1 改变2个聚合](chapter8/no-invariant-two-aggregates.md)
    * [8.5.2 每个用户不超过3个愿望](chapter8/no-more-than-three-wishes-per-user.md)
      * [8.5.2.1 悲观并发控制](chapter8/pessimistic-concurrency-control.md)
      * [8.5.2.2 乐观并发控制](chapter8/optimistic-concurrency-control.md)
    * [8.5.3 渲染用户愿望](chapter8/rendering-user-wishes.md)
    * [8.5.4 更新](chapter8/updating-a-user-wish.md)
    * [8.5.5 实现愿望](chapter8/granting-user-wishes.md)
  * [8.6 小结](chapter8/wrapping-up.md)

---

* [第九章 工厂](chapter9/REAMDE.md)
  * [9.1 简介](chapter9/introduction.md)
  * [9.2 聚合根](chapter9/factory-method-on-aggregate-root.md)
    * [9.2.1 强制不变性](chapter9/forcing-invariants.md)
  * [9.3 服务](chapter9/factory-on-service.md)
    * [9.3.1 构建参数](chapter9/building-specifications.md)
    * [9.3.2 构建聚合](chapter9/building-aggregates.md)
  * [9.4 测试](chapter9/testing.md)
    * [9.4.1 object-mother](chapter9/object-mother.md)
    * [9.4.2 测试数据构建器](chapter9/test-data-builder.md)
  * [9.5 小结](chapter9/wrapping-up.md)
* [第十章 仓库](chapter10/README.md)
  * [10.1 简介](chapter10/introduction.md)
  * [10.2 定义](chapter10/definition.md)
  * [10.3 repositories不是dao](chapter10/repositories-are-not-daos.md)
  * [10.4 collection-oriented-repositories](chapter10/collection-oriented-repositories.md)
    * [10.4.1 内存实现](chapter10/in-memory-implementation.md)
    * [10.4.2 doctrine](chapter10/doctrine-orm.md)
      * [10.4.2.1 object mapping](chapter10/object-mapping.md)
        * [10.4.2.1.1 doctrine custom mapping types](chapter10/doctrine-custom-mapping-types.md)
        * [10.4.2.1.2 xml mapping.md](chapter10/xml-mapping.md)
      * [10.4.2.2 entity manager](chapter10/entity-manager.md)
      * [10.4.2.3 dql implementation](chapter10/dql-implementation.md)
  * [10.5 持久化](chapter10/persistence-oriented.md)
    * [10.5.1 redis](chapter10/redis-implementation.md)
    * [10.5.2 sql](chapter10/sql-implementation.md)
  * [10.6 扩展行为](chapter10/extra-behaviour.md)
  * [10.7 querying repositories](chapter10/querying-repositories.md)
    * [10.7.1 specification pattern](chapter10/specification-pattern.md)
      * [10.7.1.1 内存实现](chapter10/in-memory-implementation.md)
      * [10.7.1.2 sql](chapter10/sql-implementation.md)
  * [10.8 事务管理](chapter10/managing-transactions.md)
  * [10.9 测试](chapter10/testing-repositories.md)
  * [10.10 内存测试](chapter10/testing-your-services-with-in-memory-implementations.md)
  * [10.11 小结](chapter10/wrapping-up.md)
* [第十一章 应用层](chapter11/REAEMD.md)
  * [11.1 简介](chapter11/introduction.md)
  * [11.2 requests](chapter11/requests.md)
    * [11.2.1 构建应用层请求服务](chapter11/building-application-service-requests.md)
    * [11.2.2 request design](chapter11/request-design.md)
      * [11.2.2.1 use primitives](chapter11/use-primitives.md)
      * [11.2.2.2 serializable](chapter11/serializable.md)
      * [11.2.2.3 no business logic](chapter11/no-business-logic.md)
      * [11.2.2.4 no tests](chapter11/no-tests.md)
  * [11.3 剖析应用服务](chapter11/anatomy-of-an-application-service.md)
    * [11.3.1 依赖倒置](chapter11/dependency-inversion.md)
    * [11.3.2 应用服务实例](chapter11/instantiating-application-services.md)
    * [11.3.3 执行](chapter11/execution.md)
      * [11.3.3.1 每个应用服务一个类](chapter11/one-class-per-application-service.md)
      * [11.3.3.2 每个类多个服务方法](chapter11/multiple-application-service-methods-per-class.md)
    * [11.3.4 返回值](chapter11/returning-values.md)
      * [11.3.4.1 dto from aggregate instances](chapter11/dto-from-aggregate-instances.md)
      * [11.3.4.2 数据交流](chapter11/data-transformers.md)
    * [11.3.5 混合层的复杂应用服务](chapter11/multiple-application-services-on-compound-layouts.md)
      * [11.3.5.1 ajax集成](chapter11/ajax-content-integration.md)
      * [11.3.5.2 esi content integration](chapter11/esi-content-integration.md)
      * [11.3.5.3 symfony sub requests.md](chapter11/symfony-sub-requests.md)
      * [11.3.5.4 一个控制器多个应用服务](chapter11/one-controller-multiple-application-services.md)
  * [11.4 测试](chapter11/testing.md)
  * [11.5 事务](chapter11/transactions.md)
  * [11.6 安全](chapter11/security.md)
  * [11.7 领域事件](chapter11/domain-events.md)
  * [11.8 command handlers](chapter11/command-handlers.md)
    * [11.8.1 战术库和其他选项](chapter11/tactician-library-and-other-options.md)
  * [11.9 小结](chapter11/wrapping-up.md)
* [第十二章 边界上下文集成](chapter12/README.md)
  * [12.1 数据存储](chapter12/integration-through-the-data-store.md)
  * [12.2 integration relationships](chapter12/integration-relationships.md)
    * [12.2.1 customer supplier](chapter12/customer-supplier.md)
    * [12.2.2 separate ways](chapter12/separate-ways.md)
    * [12.2.3 conformist](chapter12/conformist.md)
  * [12.3 实现边界上下文集成](chapter12/implementing-bounded-context-integrations.md)
    * [12.3.1 rpc模式](chapter12/modern-rpc.md)
    * [12.3.2 message queues](chapter12/message-queues.md)
  * [12.4 小结](chapter12/wrapping-up.md)
* [附录](chapter13/REAMD.md)
  * [php六边形架构](chapter13/hexagonal-architecture-with-php.md)
  * [说明](chapter13/introduction.md)
  * [first approach](chapter13/first-approach.md)
  * [仓库和持久化边界](chapter13/repositories-and-the-persistence-edge.md)
  * [decoupling business and persistence](chapter13/decoupling-business-and-persistence.md)
  * [迁移到redis](chapter13/migrating-our-persistence-to-redis.md)
  * [解耦 business and web framework](chapter13/decouple-business-and-web-framework.md)
  * [rating an idea sing the api](chapter13/rating-an-idea-using-the-api.md)
  * [console app rating](chapter13/console-app-rating.md)
  * [testing rating an idea use case](chapter13/testing-rating-an-idea-use-case.md)
  * [testing infrastructure](chapter13/testing-infrastructure.md)
  * [aggregation so many dependencies](chapter13/aggregation-so-many-dependencies.md)
  * [domain services and notification hexagon edge](chapter13/domain-services-and-notification-hexagon-edge.md)
  * [let’s recap.md](chapter13/recap.md)
  * [hexagonal architecture](chapter13/hexagonal-architecture.md)
  * [key points](chapter13/key-points.md)
  * [what’s next](chapter13/next.md)

